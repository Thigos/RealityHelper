<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reality Helper</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav>
        <ul>
            <li>
                <span>R</span>
            </li>
            <li>
                <span class="material-symbols-rounded">
                    edit_note
                </span>
            </li>
            <li>
                <span class="material-symbols-rounded">
                    explore
                </span>
            </li>
            <li>
                <span class="material-symbols-rounded">
                    analytics
                </span>
            </li>
        </ul>
    </nav>

    <div class="message" id="msg_container">
        <p id="text_msg_user"></p>
    </div>

    <section id="sec1">
        <div class="light-top"><img src="img/light_top.png"></div>
        <div class="container-title">
            <h1>Reality Helper</h1>
            <span>Conectando Realidades</span>
        </div>

        <div class="information">
            <div class="box box-apresentacao-logo" style="width: 124px; height: 224px;">
                <span class="logo">R</span>
            </div>

            <div class="box box-horizontal-text" style="width: 269px; height: 131px;">
                <span class="text">Compartilhe a sua realidade</span>
            </div>
        </div>

        <div class="light-bottom"><img src="img/light_bottom.png"></div>
    </section>
    <section>
        <div class="container-subtitle">
            <h1>Conte sua <br> Hist√≥ria</h1>
        </div>
        <div class="information">
            <div class="box box-escrita-logo" style="width: 124px; height: 224px;">
                <span class="logo">R</span>
            </div>

            <div class="box box-escrita-text" style="width: 353px; height: 444px;">
                <div class="escrita-container">
                    <div class="write-box">
                        <span class="title">Escreva Aqui</span>
                        <textarea 
                         class="txtArea-write" id="txtAreaStories"></textarea>
                    </div>
                    <!-- <button class="bt-add-wallpaper">Adicionar Wallpaper</button> -->
                    <button class="bt-enviar" id="btEnviar">Enviar</button>
                </div>
            </div>
        </div>
        <div class="light-bottom"><img src="img/light_bottom.png"></div>
    </section>
    <section>
        <div class="container-subtitle">
            <h1>Explore<br> Realidades</h1>
        </div>
        <div class="information">
            <div class="box box-horizontal-text" style="width: 269px; height: 131px;">
                <span class="logo">R</span>
            </div>

            <div class="realitys-carousel">
                <span class="left-arrow material-symbols-rounded" id="bt_left_carousel">arrow_back_ios_new</span>
                
                <div class="realitys-container" id="realitys-container">
                </div>

                <span class="right-arrow material-symbols-rounded" id="bt_right_carousel">arrow_forward_ios</span>
            </div>
        </div>
        <div class="light-bottom"><img src="img/light_bottom.png"></div>
    </section>
    <section>
        <div class="container-title">
            <h1>Palavras em Alta</h1>
        </div>

        <div class="information" style="height: 80%; align-items: center;">
            <table class="table-token">
                <tbody>
                    <tr>
                        <td>Token1</td>
                        <td>99%</td>
                    </tr>
    
                    <tr>
                        <td>Token2</td>
                        <td>99%</td>
                    </tr>
    
                    <tr>
                        <td>Token3</td>
                        <td>99%</td>
                    </tr>

                    <tr>
                        <td>Token4</td>
                        <td>99%</td>
                    </tr>

                    <tr>
                        <td>Token5</td>
                        <td>99%</td>
                    </tr>
                </tbody>
            </table>


            <div class="chart-container">
                <canvas id="chart-token"></canvas>
            </div>
        </div>
        
        <div class="light-bottom"><img src="img/light_bottom.png"></div>
    </section>

</body>
</html>
<script>
    const msgContainer = document.getElementById('msg_container');
    const textMsgUser = document.getElementById('text_msg_user');
    const btRightCarousel = document.getElementById('bt_right_carousel');
    const btLeftCarousel = document.getElementById('bt_left_carousel');

    window.addEventListener('load', function() {
        var lightsBottom = document.getElementsByClassName('light-bottom');
        

        [].forEach.call(lightsBottom, function(element) {
            const img = element.getElementsByTagName('img')[0];
            var imgHeight = img.offsetHeight;

            element.style.bottom = -(imgHeight/2) + 'px';
        });
        
    });

    const show_msg = (text)=>{
        textMsgUser.innerText = text;

        msgContainer.style.right = '30px';

        setTimeout(()=>{
            msgContainer.style.right = '-25vw';
        }, 4000);
    }

    
    btRightCarousel.onclick = ()=>{
        const columnsCarousel = document.getElementsByClassName('column');
        var quantColumns = columnsCarousel.length-1;

        if(columnsCarousel[quantColumns].style.left != '0%'){
            for (let i = 0; i <= quantColumns; i++) {
                var originalLeft = Number(columnsCarousel[i].style.left.replace('%',''));
                columnsCarousel[i].style.left = (originalLeft-100) + '%';
            }
        }
    }

    btLeftCarousel.onclick = ()=>{
        const columnsCarousel = document.getElementsByClassName('column');
        var quantColumns = columnsCarousel.length-1;

        if(columnsCarousel[0].style.left != '0%'){
            for (let i = 0; i <= quantColumns; i++) {
                var originalLeft = Number(columnsCarousel[i].style.left.replace('%',''));
                columnsCarousel[i].style.left = (originalLeft+100) + '%';
            }
        }
    }

</script>
<script src="js/analytics.js"></script>
<script src="js/DataLoader.js"></script>
<script src="js/requests.js"></script>